<!DOCTYPE html>
<html lang="pl">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VH07LRZ8GK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-VH07LRZ8GK');
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kontakt — Grunteo</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="icon" type="image/svg+xml" href="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/logo-mark.svg" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/favicon-16x16.png" />
  <link rel="manifest" href="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/site.webmanifest" />
  <link rel="mask-icon" href="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/safari-pinned-tab.svg" color="#0c0d11" />
  <link rel="shortcut icon" href="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/favicon.ico" />
  <meta name="apple-mobile-web-app-title" content="Grunteo" />
  <meta name="application-name" content="Grunteo" />
  <meta name="msapplication-TileColor" content="#0c0d11" />
  <meta name="msapplication-config" content="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/browserconfig.xml" />
  <meta name="theme-color" content="#0c0d11" />
  <meta property="og:image" content="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/og-image.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="Logo Grunteo" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/og-image.png" />
  <link rel="stylesheet" href="assets/main.css" />
  <link rel="stylesheet" href="assets/header.css" />
  <link rel="stylesheet" href="assets/contact.css" />
</head>
<body class="contact-page">
  <div class="top-navbar">
    <div class="contact-info">
      <i class="fas fa-clock" aria-hidden="true"></i> Poniedziałek - Piątek 9:00 - 18:00
      <span><i class="fas fa-phone" aria-hidden="true"></i> +48 505 849 404</span>
    </div>

    <div class="auth-buttons" id="authButtons">
      <button class="btn btn-outline-primary btn-sm" id="loginBtn">
        <i class="fas fa-sign-in-alt"></i> Zaloguj się
      </button>
      <button class="btn btn-primary btn-sm" id="registerBtn">
        <i class="fas fa-user-plus"></i> Zarejestruj się
      </button>
    </div>

    <div class="user-menu" id="userMenu" style="display:none;">
      <button class="btn btn-outline-primary btn-sm" id="accountBtn">
        <i class="fas fa-user"></i> Moje konto
      </button>
      <button class="btn btn-secondary btn-sm" id="logoutBtn">
        <i class="fas fa-sign-out-alt"></i> Wyloguj
      </button>
    </div>
  </div>

  <header>
    <a href="index.html" class="logo">
      <img src="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/logo-horizontal-dark.svg" alt="Logo serwisu">
    </a>

    <nav class="desktop-nav">
      <a href="index.html" class="nav-link">Strona główna</a>
      <a href="oferty.html" class="nav-link">Oferty</a>
      <a href="dodaj.html" class="nav-link">Dodaj</a>
      <a href="Kontakt.html" class="nav-link active">Kontakt</a>
    </nav>

    <a href="dodaj.html" class="desktop-add-offer">
      <i class="fas fa-plus"></i> Dodaj ofertę
    </a>
    <a href="dodaj.html" class="mobile-add-offer">
      <i class="fas fa-plus"></i> Dodaj ofertę
    </a>

    <button class="mobile-menu-btn" aria-label="Otwórz menu">
      <i class="fas fa-bars"></i>
    </button>

    <nav class="nav-menu">
      <a href="index.html" class="nav-link">Strona główna</a>
      <a href="oferty.html" class="nav-link">Oferty</a>
      <a href="dodaj.html" class="nav-link">Dodaj</a>
      <a href="Kontakt.html" class="nav-link active">Kontakt</a>
      <div class="mobile-auth" id="mobileAuth" style="display:none;"></div>
    </nav>
  </header>

  <main>
    <section class="contact-hero">
      <div class="container">
        <div class="hero-content">
          <h1>Skontaktuj się z nami</h1>
          <p class="hero-subtitle">Porozmawiajmy o Twojej nieruchomości</p>
          <p class="hero-description">Masz pytania dotyczące ogłoszeń lub współpracy? Wypełnij formularz, a nasz zespół wróci do Ciebie z odpowiedzią w wybranym przez Ciebie terminie.</p>

          <div class="hero-meta">
            <div class="meta-item">
              <i class="fas fa-clock" aria-hidden="true"></i>
              <div>
                <span>Godziny pracy</span>
                <strong>Poniedziałek - Piątek 9:00 - 18:00</strong>
              </div>
            </div>
            <div class="meta-item">
              <i class="fas fa-phone" aria-hidden="true"></i>
              <div>
                <span>Zadzwoń do nas</span>
                <a href="tel:+48505849404">+48 505 849 404</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="contact-main">
      <div class="container">
        <div class="contact-wrapper">
          <div class="contact-quick-info">
            <h2>Bezpośrednie dane kontaktowe</h2>
            <p>Preferujesz szybki telefon lub wiadomość e-mail? Sprawdź, w jaki sposób możesz się z nami skontaktować bez oczekiwania.</p>

            <div class="contact-highlights">
              <div class="contact-card">
                <i class="fas fa-envelope" aria-hidden="true"></i>
                <div>
                  <span>Adres e-mail</span>
                  <p>info@grunteo.pl</p>
                </div>
              </div>
              <div class="contact-card">
                <i class="fas fa-phone" aria-hidden="true"></i>
                <div>
                  <span>Telefon</span>
                  <p>+48 505 849 404</p>
                </div>
              </div>
              <div class="contact-card">
                <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                <div>
                  <span>Biuro</span>
                  <p>ul. Edwarda Suchardy 4, 50-362 Wrocław</p>
                </div>
              </div>
            </div>
          </div>

          <div class="contact-form" aria-labelledby="contactFormTitle">
            <h2 id="contactFormTitle">Napisz do nas</h2>
            <form id="contactForm" action="#" method="post">
              <div class="form-group">
                <label for="contactName">Imię i nazwisko</label>
                <input type="text" id="contactName" name="contactName" autocomplete="name" placeholder="Wpisz swoje imię i nazwisko">
              </div>

              <div class="form-group">
                <label for="contactEmail">Adres e-mail *</label>
                <input type="email" id="contactEmail" name="contactEmail" autocomplete="email" placeholder="np. anna.kowalska@example.com" required>
              </div>

              <div class="form-group">
                <label for="contactPhone">Telefon</label>
                <input type="tel" id="contactPhone" name="contactPhone" autocomplete="tel" placeholder="np. +48 600 000 000">
              </div>

              <div class="form-group">
                <label for="contactSlot">Najlepszy przedział czasowy na rozmowę *</label>
                <select id="contactSlot" name="contactSlot" required>
                  <option value="" disabled selected>Wybierz preferowany termin</option>
                  <option value="09-12">09:00 - 12:00</option>
                  <option value="12-16">12:00 - 16:00</option>
                  <option value="16-20">16:00 - 20:00</option>
                  <option value="weekend">Weekend (oddzwonimy w sobotę)</option>
                </select>
              </div>

              <fieldset>
                <legend>Jak mamy się z Tobą skontaktować?</legend>
                <div class="preference-options">
                  <label for="prefEmail">
                    <input type="checkbox" id="prefEmail" name="contactPreference" value="email">
                    Chcę, abyście odpisali na e-mail
                  </label>
                  <label for="prefPhone">
                    <input type="checkbox" id="prefPhone" name="contactPreference" value="phone">
                    Proszę o kontakt telefoniczny
                  </label>
                </div>
              </fieldset>

              <div class="form-group">
                <label for="contactMessage">Twoja wiadomość *</label>
                <textarea id="contactMessage" name="contactMessage" placeholder="Opisz, w czym możemy pomóc" required></textarea>
              </div>

              <button type="submit" class="btn btn-primary">
                <i class="fas fa-paper-plane"></i> Wyślij wiadomość
              </button>
              <p id="contactStatus" class="form-status" role="status" aria-live="polite" hidden></p>
              <p class="contact-note">Na wiadomości odpowiadamy maksymalnie w ciągu jednego dnia roboczego.</p>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Login Modal -->
  <div class="modal" id="loginModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Zaloguj się</h3>
        <button class="modal-close" aria-label="Zamknij">&times;</button>
      </div>
      <form id="loginForm">
        <div class="form-group">
          <label for="loginEmail">Email</label>
          <input type="email" id="loginEmail" required>
        </div>
        <div class="form-group">
          <label for="loginPassword">Hasło</label>
          <input type="password" id="loginPassword" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width:100%;">Zaloguj się</button>
      </form>

      <div class="social-login">
        <button type="button" class="btn btn-google" id="googleLoginBtnLogin">
          <i class="fab fa-google"></i> Kontynuuj z Google
        </button>
      </div>

      <div class="form-footer">
        <p>Nie masz konta? <a href="#" id="switchToRegister">Zarejestruj się</a></p>
      </div>
    </div>
  </div>

  <!-- Register Modal -->
  <div class="modal" id="registerModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Utwórz konto</h3>
        <button class="modal-close" aria-label="Zamknij">&times;</button>
      </div>
      <form id="registerForm">
        <div class="form-group">
          <label for="registerName">Imię i nazwisko</label>
          <input type="text" id="registerName" required>
        </div>
        <div class="form-group">
          <label for="registerEmail">Email</label>
          <input type="email" id="registerEmail" required>
        </div>
        <div class="form-group">
          <label for="registerPassword">Hasło</label>
          <input type="password" id="registerPassword" required>
        </div>
        <div class="form-group">
          <label for="registerConfirmPassword">Potwierdź hasło</label>
          <input type="password" id="registerConfirmPassword" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width:100%;">Zarejestruj się</button>
      </form>

      <div class="social-login mt-3 text-center">
        <button type="button" class="btn btn-google w-100 mb-2" id="googleLoginBtn">
          <i class="fab fa-google"></i> Kontynuuj z Google
        </button>
      </div>

      <div class="form-footer">
        <p>Masz już konto? <a href="#" id="switchToLogin">Zaloguj się</a></p>
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <div class="footer-container">
        <div class="footer-about">
          <a href="index.html" class="footer-logo">
            <img src="https://raw.githubusercontent.com/trainingtwenty5/karuzo/main/brand/logo-horizontal-dark.svg" alt="Logo serwisu">
          </a>
          <p>Bezpłatne ogłoszenia nieruchomości. Szybka sprzedaż działek bez zbędnych kosztów i formalności.</p>
        </div>

        <div class="footer-links">
          <h3>Przydatne linki</h3>
          <ul>
            <li><a href="index.html">Strona główna</a></li>
            <li><a href="oferty.html">Oferty</a></li>
            <li><a href="dodaj.html">Dodaj ofertę</a></li>
            <li><a href="RODO.html">Informacja RODO</a></li>
            <li><a href="polityka-prywatnosci.html">Polityka prywatności</a></li>
            <li><a href="Kontakt.html">Kontakt</a></li>
          </ul>
        </div>

        <div class="footer-contact">
          <h3>Kontakt</h3>
          <p><i class="fas fa-envelope"></i> info@grunteo.pl</p>
          <p><i class="fas fa-phone"></i> +48 123 456 789</p>
        </div>
      </div>

      <div class="footer-bottom">
        © 2025. Wszelkie prawa zastrzeżone.
      </div>
    </div>
  </footer>

  <script type="module" src="assets/auth-basic.js"></script>

  <script type="module">
    import { initializeApp, getApp, getApps } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import {
      getFirestore,
      collection,
      addDoc,
      serverTimestamp
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBdhMIiqetOfDGP85ERxtgwn3AXR50pBcE",
      authDomain: "base-468e0.firebaseapp.com",
      projectId: "base-468e0",
      storageBucket: "base-468e0.firebasestorage.app",
      messagingSenderId: "829161895559",
      appId: "1:829161895559:web:d832541aac05b35847ea22"
    };

    const app = getApps().length ? getApp() : initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const messagesCollection = collection(db, "konakt");

    const form = document.getElementById("contactForm");
    const statusElement = document.getElementById("contactStatus");
    const submitButton = form?.querySelector('button[type="submit"]');
    const originalButtonContent = submitButton ? submitButton.innerHTML : "";

    const setSubmitting = (isSubmitting) => {
      if (!submitButton) return;
      submitButton.disabled = isSubmitting;
      submitButton.innerHTML = isSubmitting
        ? '<i class="fas fa-spinner fa-spin" aria-hidden="true"></i> Wysyłanie...'
        : originalButtonContent;
    };

    const resetStatus = () => {
      if (!statusElement) return;
      statusElement.textContent = "";
      statusElement.classList.remove("success", "error");
      statusElement.hidden = true;
    };

    const showStatus = (message, type) => {
      if (!statusElement) return;
      statusElement.textContent = message;
      statusElement.classList.remove("success", "error");
      if (type) {
        statusElement.classList.add(type);
      }
      statusElement.hidden = false;
    };

    if (form) {
      form.addEventListener("submit", async (event) => {
        event.preventDefault();

        if (!form.checkValidity()) {
          form.reportValidity();
          return;
        }

        const formData = new FormData(form);
        const getTrimmedValue = (field) => {
          const value = formData.get(field);
          return typeof value === "string" ? value.trim() : "";
        };

        const preferences = formData
          .getAll("contactPreference")
          .map((entry) => (typeof entry === "string" ? entry : String(entry)));

        const selectedSlotOption = form.querySelector("#contactSlot option:checked");

        const payload = {
          name: getTrimmedValue("contactName") || null,
          email: getTrimmedValue("contactEmail"),
          phone: getTrimmedValue("contactPhone") || null,
          preferredSlot: getTrimmedValue("contactSlot"),
          preferredSlotLabel: selectedSlotOption ? selectedSlotOption.textContent.trim() : null,
          contactPreferences: preferences,
          message: getTrimmedValue("contactMessage"),
          createdAt: serverTimestamp(),
          createdAtMs: Date.now(),
          source: "Kontakt.html"
        };

        setSubmitting(true);
        resetStatus();

        try {
          await addDoc(messagesCollection, payload);
          showStatus("Dziękujemy! Twoja wiadomość została pomyślnie wysłana.", "success");
          form.reset();
        } catch (error) {
          console.error("[contact-form] Nie udało się wysłać wiadomości:", error);
          showStatus("Przepraszamy, wystąpił błąd podczas wysyłania wiadomości. Spróbuj ponownie później.", "error");
        } finally {
          setSubmitting(false);
        }
      });
    }
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
      const navMenu = document.querySelector('.nav-menu');
      const mobileAuth = document.getElementById('mobileAuth');

      mobileMenuBtn?.addEventListener('click', function () {
        navMenu?.classList.toggle('active');
        if (mobileAuth) {
          mobileAuth.style.display = navMenu?.classList.contains('active') ? 'flex' : 'none';
        }
      });

      window.addEventListener('resize', function () {
        if (window.innerWidth > 768) {
          navMenu?.classList.remove('active');
          if (mobileAuth) {
            mobileAuth.style.display = 'none';
          }
        }
      });
    });
  </script>
</body>
</html>
